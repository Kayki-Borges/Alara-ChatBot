<!DOCTYPE html>
<html lang="PT-br">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="icon" href="Brasão_UFCA_em_Alta_Definição.svg">
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALARA - ChatBot da UFCA</title>
</head>
<body>
    <header>
        <div class="menu-top">
            <div class="lad-e">
        
            <h1>alara</h1>
            <a href="https://www.ufca.edu.br/">
            <img src="Screenshot 2025-09-17 at 09-44-50 Protótipo 1 – Figma.png" alt="">
            </a>
            </div>

            <div class="lad-d">
                <a href="https://www.ufca.edu.br/"><img src="image.png" alt="logo ufca"></a>
            </div>
        </div>
    </header>
     <div class="chat-container">
        <div class="chat-messages" id="chatMessages">

        </div>
          <div class="typing-indicator" id="typingIndicator">
            <span>Alara está pensando</span>
            <div class="typing-dots">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>
        <div class="chat-input">
            <input type="text" id="messageInput" placeholder="Digite sua mensagem..." autocomplete="off">
            <button id="sendButton"><i class="bi bi-arrow-right-short"></i></button>
        </div>
         <div class="dev">
            <p>Desenvolvido pela <a href="https://www.ufca.edu.br/instituicao/administrativo/estrutura-organizacional/orgaos-suplementares/dti/equipe/">CSI</a> da <a href="https://www.ufca.edu.br/">UFCA</a></p>
        </div>
    </div>
    <script >
        document.addEventListener('DOMContentLoaded', function() {
            const chatMessages = document.getElementById('chatMessages');
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            const typingIndicator = document.getElementById('typingIndicator');

             const knowledgeBase = {
                'saudacao': {
                    patterns: ['olá', 'oi', 'e aí', 'bom dia', 'boa tarde', 'boa noite', 'hello', 'hi', 'saudações', 'opa'],
                    responses: [
                        'Olá! Sou a Alara, assistente virtual da UFCA. Como posso ajudar?',
                        'Oi! Em que posso ser útil hoje?',
                        'Saudações! Como posso ajudá-lo com informações sobre a UFCA?'
                    ]
                },
                'despedida': {
                    patterns: ['tchau', 'até logo', 'até mais', 'bye', 'encerrar', 'sair', 'obrigado'],
                    responses: [
                        'Até logo! Estarei aqui se precisar de mais alguma informação.',
                        'Foi um prazer ajudar! Volte sempre que tiver dúvidas.',
                        'Até mais! Não hesite em entrar em contato se tiver mais perguntas.'
                    ]
                },
                'matricula': {
                    patterns: ['matrícula', 'como me matricular', 'processo seletivo', 'vestibular', 'ingresso'],
                    responses: [
                        'O processo de matrícula na UFCA varia conforme o curso e o tipo de seleção. Geralmente é feito através do SiSU ou vestibulares próprios. Para informações detalhadas, visite: https://www.ufca.edu.br/ingresso/',
                        'Para se matricular na UFCA, você precisa participar de processos seletivos como SiSU, vestibular ou transferência. Confira mais em: https://www.ufca.edu.br/ingresso/'
                    ]
                },
                'cursos': {
                    patterns: ['cursos', 'graduação', 'que cursos oferece', 'áreas de estudo'],
                    responses: [
                        'A UFCA oferece diversos cursos de graduação nas áreas de Engenharias, Ciências Sociais, Saúde e Tecnologia. Veja a lista completa em: https://www.ufca.edu.br/cursos/',
                        'Temos cursos nas áreas de Engenharia, Computação, Física, Matemática, Educação, Enfermagem e muitos outros. Confira: https://www.ufca.edu.br/cursos/'
                    ]
                },
                'contato': {
                    patterns: ['contato', 'telefone', 'email', 'endereço', 'como entrar em contato', 'localização'],
                    responses: [
                        'A UFCA possui campi em Juazeiro do Norte, Crato, Barbalha e Brejo Santo. O contato geral é (88) 3221-9200. Mais informações: https://www.ufca.edu.br/contato/',
                        'Você pode entrar em contato com a UFCA pelo telefone (88) 3221-9200 ou pelo email: gabinete@ufca.edu.br. Endereço: Av. Tenente Raimundo Rocha, 1639, Juazeiro do Norte-CE.'
                    ]
                },
                'calendario': {
                    patterns: ['calendário', 'calendario academico', 'período letivo', 'semestre'],
                    responses: [
                        'O calendário acadêmico da UFCA é definido por semestre. Você pode consultar o calendário atual em: https://www.ufca.edu.br/calendario-academico/',
                        'Para acessar o calendário acadêmico com todos os prazos e períodos letivos, visite: https://www.ufca.edu.br/calendario-academico/'
                    ]
                },
                'default': {
                    responses: [
                        'Desculpe, não entendi completamente. Poderia reformular sua pergunta?',
                        'Não tenho informações suficientes sobre isso. Entre em contato com a UFCA diretamente pelo telefone (88) 3221-9200.',
                        'Essa pergunta é complexa. Você pode verificar no site oficial da UFCA: https://www.ufca.edu.br/'
                    ]
                }
            };

            addMessage('Olá! Eu sou a Alara, estou aqui para te ajudar. O que você quer saber sobre a UFCA?', 'received');

            // Função para adicionar mensagem ao chat
            function addMessage(text, type) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message', type);
                
                const messageText = document.createElement('div');
                messageText.textContent = text;
                
                const timeSpan = document.createElement('div');
                timeSpan.classList.add('time');
                timeSpan.textContent = getCurrentTime();
                
                messageDiv.appendChild(messageText);
                messageDiv.appendChild(timeSpan);
                chatMessages.appendChild(messageDiv);
                
                // Rolagem automática para a última mensagem
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            function processMessage(message) {
                // Converter para minúsculas e remover acentos para melhor correspondência
                const normalizedMessage = message.toLowerCase()
                    .normalize('NFD').replace(/[\u0300-\u036f]/g, '');
                
                // Verificar se a mensagem corresponde a algum padrão conhecido
                for (const intent in knowledgeBase) {
                    if (intent === 'default') continue;
                    
                    for (const pattern of knowledgeBase[intent].patterns) {
                        const normalizedPattern = pattern.toLowerCase()
                            .normalize('NFD').replace(/[\u0300-\u036f]/g, '');
                        
                        if (normalizedMessage.includes(normalizedPattern)) {
                            const responses = knowledgeBase[intent].responses;
                            return responses[Math.floor(Math.random() * responses.length)];
                        }
                    }
                }
                
                // Se não encontrou correspondência, usar resposta padrão
                const defaultResponses = knowledgeBase.default.responses;
                return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
            }
            // Função para obter a hora atual formatada
            function getCurrentTime() {
                const now = new Date();
                return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
            }
            
            // Mostrar indicador de digitação
            function showTypingIndicator() {
                typingIndicator.classList.add('active');
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Esconder indicador de digitação
            function hideTypingIndicator() {
                typingIndicator.classList.remove('active');
            }
            
            // Enviar mensagem ao clicar no botão
            sendButton.addEventListener('click', sendMessage);
            
            // Enviar mensagem ao pressionar Enter
            messageInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // Focar no input quando a página carregar
            messageInput.focus();
            
            function sendMessage() {
                const message = messageInput.value.trim();
                if (message !== '') {
                    addMessage(message, 'sent');
                    messageInput.value = '';
                    
                    // Mostrar que a Alara está digitando
                    showTypingIndicator();
                    
                    // Simular resposta após um curto período
                      setTimeout(() => {
                        hideTypingIndicator();
                        const response = processMessage(message);
                        addMessage(response, 'received');
                    }, 1500);
                }
            }

            messageInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = (this.scrollHeight) + 'px';
            });
        });
    </script>
</body>
</html>
